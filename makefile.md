https://www.cnblogs.com/paul-617/p/15501875.html
**makefile**带来的好处就是——“自动化编译”，一旦写好，只需要一个make命令，整个工程完全自动编译，极大的提高了软件开发的效率。make是一个命令工具，是一个解释makefile中指令命令工具，一般来说，大多数的IDE都有这个命令
![[file-20240908231342412.png]]
#####  关键两个：
⼀个是**⽬标（target）**，另⼀个就是**依赖（dependency）**。⽬标就是指要⼲什么，或说运⾏ make 后⽣成什么，⽽依赖是告诉 make 如何去做以实现⽬标
⭕⼀个 Makefile 中可以定义多个⽬标。调⽤ make 命令时，我们得告诉它我们的⽬标是什么，即要它⼲什么。当没有指明具体的⽬标是什么 时，那么 make 以 Makefile ⽂件中定义的第⼀个⽬标作为这次运⾏的⽬标。这“第⼀个”⽬标也称之 为默认⽬标（和是不是all没有关系）。当 make 得到⽬标后，先找到定义⽬标的规则，然后运⾏规则中的命令来达到构建⽬标的⽬的
make根据时间戳来判断：
==make 在检查⼀个规则时，采⽤的⽅法是：如果先决条件中相关的⽂件的时间戳⼤于⽬标的时间戳，即先决条件中的⽂件⽐⽬标更新，则知道有变化，那么需要运⾏规则当中 的命令重新构建⽬标==
> 1.如果这个工程没有编译过，那么我们的所有C文件都要编译并被链接
> 2.如果这个工程的某几个C文件被修改，那么我们只编译被修改的C文件，并链接目标程序
> 3.如果这个工程的头文件被改变了，那么我们需要编译引用了这几个头文件的C文件，并链接目标程序

