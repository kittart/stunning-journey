
# diff
**常用格式**：
==`-u`==：统一差异格式，最常用的格式，显示前后几行上下文
`-y`：
`-c`：上下文差异格式（Context Format）类似`-u`，但格式稍微不同，显示前后行的上下文。
`-r`：递归比较目录中的文件，适合比较两个目录及其子目录中的所有文件。
`-i`：忽略大小写差异。
`-w`：忽略所有空白字符差异。
#👉 

##### -u选项：合并格式
###### 1. 输入：
diff -u file1.txt file2.txt
###### 2. 输出：
--- file1.txt  2024-08-21 10:00:00.000000000 +0000
+++ file2.txt  2024-08-21 10:00:00.000000000 +0000
@@ -1,3 +1,4 @@
 apple
-banana
+blueberry
 cherry
+date
######  3. 输出解释：
- **-u** 参数时，差异输出格式如下，
	- （−−−）开头的行标识的是**原始文件**
	（+++）开头的行标识的是**目标文件**
	（−）开头的行是**只出现在原始文件中的行**
	（+）开头的行是**只出现在目标文件中的行**
- @@ -1,3 +1,4 @@
	-1,3表示文件 1 中从第1行开始，包含3行
	+1,4表示文件 2 中从第1行开始，包含4行
- -banana ：表示从文件1中删除了banana
- +blueberry ：表示在文件2中添加了buleberry
- +date ：表示在文件2中新增了一行date
### ==diff==
##### 1.txt中的
![[Pasted image 20240821122609.png|500]]
##### 2.txt中
![[Pasted image 20240821122649.png|500]]
##### 3.diff 1.txt 2.txt
![[Pasted image 20240821122548.png|500]]
**2c2**：
    **含义**：第2行在两个文件中不同。
    **输出**：
        < yellow：表示 `1.txt` 中的第2行是 yellow。
        > banana：表示 `2.txt` 中的第2行是 banana。
    这表明在 `1.txt` 中第2行 `yellow` 被 `2.txt` 中的 `banana` 替换了

**4,6d3**：
    **含义**：文件 `1.txt` 的第4到第6行在 `2.txt` 中不存在（`d` 表示删除）。
    **输出**：
    `< date`：文件 `1.txt` 中第4行的内容是 `date`
    `< fufu`：文件 `1.txt` 中第5行的内容是 `fufu`
    `< blue`：文件 `1.txt` 中第6行的内容是 `blue`
这表明在 `1.txt` 中第4到第6行（`date`、`fufu` 和 `blue`）在 `2.txt` 中被删除了（即 `2.txt` 中没有这几行）

#### ==-e选项：==
1.生成patch补丁文件
![[Pasted image 20240822091306.png|500]]
diff -e 1.txt 2.txt >patch.txt
2.用vim打开补丁，最后一行写w
![[Pasted image 20240822091434.png|500]]
3. ed - 1.txt <patch.txt 
	用ed将补丁文件打入1.txt

